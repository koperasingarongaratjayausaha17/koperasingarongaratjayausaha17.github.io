<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Koperasi ICARE</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,300;0,400;0,700;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>

    <!-- my style -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- Navbar start -->
    <nav class="navbar">
      <a href="#" class="navbar-logo">Koperasi<span> Ngaro Nagret</span></a>
      <div class="navbar-nav">
        <a href="#home">Home</a>
        <a href="#about">Tentang Kami</a>
        <a href="#menu">Menu</a>
        <a href="#contact">Kontak</a>
      </div>

      <div class="navbar-extra">
        <a href="#" id="search"><i data-feather="search"></i></a>
        <a href="#" id="shopping-cart"><i data-feather="shopping-cart"></i></a>
        <a href="#" id="hamburger-menu"><i data-feather="menu"></i></a>
      </div>
    </nav>

    <!-- Search Form -->
    <div class="search-form" id="search-form">
      <input type="text" id="search-input" placeholder="Cari produk..." />
      <button onclick="searchData()">Cari</button>
    </div>

    <!-- Navbar end -->

    <!-- Hero sction start -->
    <section class="hero" id="home">
      <main class="content">
        <h1>Koperasi<span> Ngaro Ngarat Jaya Usaha</span></h1>
        <p>Koperasi Primer Konsumsi Syariah.</p>
        <a href="#contact" class="cta">Beli Sekarang</a>
      </main>
    </section>
    <!-- Hero sction end -->

    <!-- About section start -->
    <section id="about" class="about">
      <h2><span>Tentang</span> Kami</h2>
      <div class="row">
        <div class="about-img">
          <img src="img/wallpaperbetter.jpg" alt="Tentang Kami" />
        </div>

        <div class="content">
          <h3>Profil Koperasi Kami</h3>
          <p>
            Koperasi Ngaro Ngarat Jaya Usaha didirikan pada tanggal 17 Mei 2023
            dengan No AHU-0002085.AH.01.29. TAHUN 2023 di dusun Montong Semaye
            Desa Bunut Baok Kecamatan Praya beranggotakan 117 orang yang terdiri
            dari petani dewasa laki-laki sebanyak 86 dan perempuan 31 orang,
            dimana diantaranya terdapat pria milenial 16 orang dan perempuan
            milenial 11 orang. Adapun dalam pendiriannya koperasi memiliki visi
            untuk Menjadi koperasi terbaik di Indonesia yang akan diwujudkan
            dengan cara menciptakan kasejahteraan bagi para anggota yg
            berkesinambungan.
          </p>
          <p>
            Usaha Agribisnis jagung (Kegiatan Utama: Pemasaran jagung, Kegiatan
            pendukung : pelayanan saprodi, budidaya jagung, jasa alsintan,
            kegiatan lainnya usaha pembibitan dan pembesaran ayam, usaha telur
            serta budidaya jamur)
          </p>
        </div>
      </div>
    </section>
    <!-- About section end -->

    <!-- Menu section start -->

    <section id="menu" class="menu">
      <h2><span>Produk</span> Kami</h2>
      <p>
        Pilih produk favorit Anda selama stock tersedia-Harga dapat berubah
        sewaktu-waktu sesuai harga pasar-Pelayanan Purna jual dengan syarat dan
        ketentuan berlaku.
      </p>
      <div class="row">
        <div class="menu-card">
          <img src="img/menu/1.jpg" alt="jagung-pipil" class="menu-card-img" />
          <h3 class="menu-card-title">- Jagung Pipil -</h3>
          <p class="menu-card-price">IDR 8K/KG</p>
          <button onclick="addToCart('Jagung Pipil', 8000)">Tambah</button>
        </div>
        <div class="menu-card">
          <img src="img/menu/2a.jpg" alt="jagung-pecah" class="menu-card-img" />
          <h3 class="menu-card-title">- Jagung Pecah -</h3>
          <p class="menu-card-price">IDR 10K/KG</p>
          <button onclick="addToCart('Jagung Pecah', 10000)">Tambah</button>
        </div>
        <div class="menu-card">
          <img src="img/menu/3.jpg" alt="doc-kub" class="menu-card-img" />
          <h3 class="menu-card-title">- Doc KUB -</h3>
          <p class="menu-card-price">IDR 700K/BOX</p>
          <button onclick="addToCart('DOC KUB', 700000)">Tambah</button>
        </div>
        <div class="menu-card">
          <img src="img/menu/4.jpg" alt="ayam-kub1" class="menu-card-img" />
          <h3 class="menu-card-title">- Ayam KUB1 -</h3>
          <p class="menu-card-price">
            IDR 36K/0,8KG
            <button onclick="addToCart('ayam kub1', 36000)">Tambah</button>
          </p>
        </div>
        <div class="menu-card">
          <img src="img/menu/4.jpg" alt="ayam-kub2" class="menu-card-img" />
          <h3 class="menu-card-title">- Ayam KUB2 -</h3>
          <p class="menu-card-price">
            IDR 39K/0,9KG
            <button onclick="addToCart('ayam kub2', 39000)">Tambah</button>
          </p>
        </div>
        <div class="menu-card">
          <img src="img/menu/4.jpg" alt="ayam-kub3" class="menu-card-img" />
          <h3 class="menu-card-title">- Ayam KUB3 -</h3>
          <p class="menu-card-price">
            IDR 42K/1KG
            <button onclick="addToCart('ayam-kub3', 42000)">Tambah</button>
          </p>
        </div>
        <div class="menu-card">
          <img src="img/menu/5.jpg" alt="telur-ayam" class="menu-card-img" />
          <h3 class="menu-card-title">- Telur Ayam -</h3>
          <p class="menu-card-price">IDR 75K/TRAY</p>
          <button onclick="addToCart('Telur Ayam', 75000)">Tambah</button>
        </div>
        <div class="menu-card">
          <img src="img/menu/6.png" alt="jamur" class="menu-card-img" />
          <h3 class="menu-card-title">- Jamur Janggel -</h3>
          <p class="menu-card-price">IDR 25K/KG</p>
          <button onclick="addToCart('Jamur Janggel', 25000)">Tambah</button>
        </div>
      </div>
    </section>

    <!-- Menu section end -->

    <!-- Shopping Cart Section start-->
    <section id="cart" class="menu">
      <h2><span>Keranjang</span> Belanja</h2>
      <ul id="cart-items"></ul>
      <p>
        <strong>Total: Rp <span id="cart-total">0</span></strong>
      </p>
    </section>

    <script>
      let cart = [];

      function addToCart(name, price) {
        // cek kalau produk sudah ada, tambahkan jumlah
        let existing = cart.find((item) => item.name === name);
        if (existing) {
          existing.quantity++;
        } else {
          cart.push({ name, price, quantity: 1 });
        }
        renderCart();
      }

      function removeFromCart(index) {
        cart.splice(index, 1);
        renderCart();
      }

      function updateQuantity(index, newQty) {
        if (newQty <= 0) {
          removeFromCart(index);
        } else {
          cart[index].quantity = newQty;
        }
        renderCart();
      }

      function renderCart() {
        const cartItems = document.getElementById("cart-items");
        cartItems.innerHTML = "";
        let total = 0;

        cart.forEach((item, index) => {
          let li = document.createElement("li");
          li.innerHTML = `
        ${item.name} - Rp ${item.price} x 
        <input type="number" min="1" value="${item.quantity}" 
               onchange="updateQuantity(${index}, this.value)">
        = Rp ${item.price * item.quantity}
        <button onclick="removeFromCart(${index})">Hapus</button>
      `;
          cartItems.appendChild(li);
          total += item.price * item.quantity;
        });

        document.getElementById("cart-total").textContent = total;
      }
    </script>

    <!-- Shopping Cart Section end -->

    <!-- Contact Section Start -->
    <section id="contact" class="contact">
      <h2><span>Kontak</span> Kami</h2>
      <p>Silakan isi form di bawah untuk menghubungi kami.</p>
      <div class="row">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d210.3159925412089!2d116.29143683594583!3d-8.685076153294137!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dcdb184d3a7251d%3A0x7a6c6c1c9ca655df!2sKelompok%20tani!5e1!3m2!1sen!2sid!4v1756197455333!5m2!1sen!2sid"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          class="map"
        ></iframe>
        <form
          action="https://docs.google.com/forms/d/e/1FAIpQLSeU1xoSGdzUV8Ous1Mweww1qscEve1JjUXjRi7e6Ea57bNirg/formResponse"
          method="POST"
          target="_blank"
          id="contactForm"
        >
          <div class="input-group">
            <i data-feather="user"></i>
            <input
              type="text"
              name="entry.1793450906"
              placeholder="nama"
              required
            />
          </div>
          <div class="input-group">
            <i data-feather="mail"></i>
            <input
              type="email"
              name="entry.980399524"
              placeholder="Email"
              required
            />
          </div>
          <div class="input-group">
            <i data-feather="phone"></i>
            <input type="text" name="entry.453792825" placeholder="no-telp" />
          </div>
          <div class="input-group">
            <i data-feather="message-square"></i>
            <textarea
              name="entry.1905674070"
              placeholder="Pesan"
              required
            ></textarea>
          </div>
          <button type="submit" id="submitBtn" class="btn">Kirim Pesan</button>
          <p id="formMessage" class="fade-msg"></p>
        </form>
      </div>
    </section>
    <!-- Contact Section End -->

    <!-- Footer section Start -->
    <footer>
      <div class="social">
        <a href="https://www.instagram.com/koperasingarongaratjayausaha23?igsh=d3o4Z2JnMWtnZG95"><i data-feather="instagram"></i></a>
        <a href="https://www.tiktok.com/@koperasingarongarat.25?_t=ZS-8zu1JtI7yv1&_r=1"
        target="_blank"
        aria-label="tiktok"
        >
        <img src="img/tiktok.png" alt="tiktok"class="tiktok-icon" ><i data-feather="tik tok"></i></a>
        <a href="https://www.facebook.com/profile.php?id=61579320864953"><i data-feather="facebook"></i></a>
      </div>

      <div class="links">
        <a href="#home">Home</a>
        <a href="#about">Tentang Kami</a>
        <a href="#menu">Menu Kami</a>
        <a href="#contact">Kontak Kami</a>
      </div>

      <div class="credit">
        <p>created by <a href="">Ngaro Ngaret</a>. &copy; 2025</p>
      </div>
    </footer>
    <script></script>

    <!-- Footer section End -->

    <!-- My Javascript -->
    <script src="js/script.js"></script>

    <script>
      const form = document.getElementById("contactForm");
      const msg = document.getElementById("formMessage");

      form.addEventListener("submit", function (e) {
        e.preventDefault(); // cegah pindah halaman

        const formData = new FormData(form);

        fetch(
          "https://docs.google.com/forms/d/e/1FAIpQLSeU1xoSGdzUV8Ous1Mweww1qscEve1JjUXjRi7e6Ea57bNirg/formResponse",
          {
            method: "POST",
            body: formData,
            mode: "no-cors",
          }
        )
          .then(() => {
            msg.style.display = "block"; // tampilkan pesan sukses
            form.reset(); // kosongkan form
          })
          .catch(() => {
            msg.style.display = "block";
            msg.style.color = "red";
            msg.textContent = "❌ Gagal mengirim, coba lagi!";
          });
      });
    </script>

    <!-- JavaScript (tombol loading + pesan sukses/error) -->

    <script>
      const form = document.getElementById("contactForm");
      const msg = document.getElementById("formMessage");
      const btn = document.getElementById("submitBtn");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const formData = new FormData(form);

        // Ubah tombol jadi "Mengirim..."
        btn.disabled = true;
        btn.textContent = "Mengirim...";

        fetch(form.action, {
          method: "POST",
          body: formData,
          mode: "no-cors",
        })
          .then(() => {
            msg.textContent = "✅ Pesan berhasil dikirim!";
            msg.style.color = "lightgreen";
            msg.classList.add("show");
            form.reset();
          })
          .catch(() => {
            msg.textContent = "❌ Gagal mengirim, coba lagi!";
            msg.style.color = "red";
            msg.classList.add("show");
          })
          .finally(() => {
            btn.disabled = false;
            btn.textContent = "Kirim Pesan";
          });
      });
    </script>
  </body>
</html>
